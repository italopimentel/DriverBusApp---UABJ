
#:import MapView kivy_garden.mapview.MapView
#:import MapMarker kivy_garden.mapview
#:import MDTextField kivymd.uix.textfield
#:import MDFillRoundFlatButton kivymd.uix.button
#:import MDLabel kivymd.uix.label
#:import MDFloatingActionButtonSpeedDial kivymd.uix.button

<ScreenManagment@ScreenManager>:
    LoginScreen:
    MainScreen:

<LoginScreen@Screen>
    name: "loginscreen"

    FloatLayout:
        Image:
            source: 'imgs/Bus.png'

        MDTextField:
            id: loginText
            hint_text: 'E-mail'
            multiline: False
            color_mode: 'custom'
            line_color_focus: 15,20,96
            size_hint: 0.5 ,0.1
            pos_hint: {'center_x': 0.5,'center_y': 0.5}

        MDTextField:
            id: passwordText
            hint_text: 'Senha'
            multiline: False
            pos_hint: {'center_x': 0.5,'center_y': 0.4}
            size_hint: 0.5 ,0.1

        MDFillRoundFlatButton:
            text: 'Acessar'
            size_hint: 0.1 ,0.1
            pos_hint: {'center_x': 0.5,'center_y': 0.25}
            on_release: root.clickLogin()

        MDLabel:
            text: 'UABJ-Motorista'
            font_size: sp(30)
            pos_hint: {'center_x': 0.89,'center_y': 0.85}

<MainScreen@Screen>
    name: "mainscreen"

    FloatLayout:
        MapView:
            id: map
            pos_hint: {"center_x": 0.5,"center_y": 0.5}
            size_hint: 1,1
            lat: -8.3316651
            lon: -36.4134225
            zoom: 15

        MDFloatingActionButtonSpeedDial:
            id: funcBtns
            callback: root.multipleButtonsCall
            data: {'Lotacao': 'imgs/lotacao.png', 'Centralizar': 'imgs/local.png', 'Sair': 'imgs/log_out.png'}
            pos_hint: {"center_x":0.5,"center_y":0.5}
            md_bg_color: 'blue'

        MDFillRoundFlatButton:
            id: btnStart
            text: "Iniciar"
            pos_hint: {"center_x":0.5,"center_y":0.07}
            size_hint: 0.25, 0.06
            on_release: root.startService()